@using DotBoil.Localization
@using DotBoil.Parameter
@model ButceYonet.Auth.ViewModels.ForgotPasswordViewModel
@inject IParameterManager parameters
@inject ILocalize localize
@{
    Layout = "~/Views/Shared/_SimpleLayout.cshtml";
    var currentUrl = $"/connect/authorize{Context.Request.QueryString}";
    var parameterLogo = await parameters.GetParameterValue<string>("AuthGuard", "Logo");
    var parameterLogoDark = await parameters.GetParameterValue<string>("AuthGuard", "LogoDark");
    var sendOtpUrl = $"/authorize/send_otp{Context.Request.QueryString}";
}

<div class="row m-0">
    <div class="col-12 p-0">
        <div class="login-card login-dark">
            <div>
                <div><a class="logo" href="@currentUrl"><img class="img-fluid for-light" src="@parameterLogo"><img class="img-fluid for-dark" src="@parameterLogoDark"></a></div>
                <div class="login-main">
                    <form action="@sendOtpUrl" class="theme-form" method="post">
                        <partial name="_Language"/>
                        <h4>@await localize.LocalizeText("Login", "ForgotPasswordTitle")</h4>
                        <p>@await localize.LocalizeText("Login", "ForgotPasswordSubTitle")</p>

                        @if (ViewBag.Message != null)
                        {
                            <p>@ViewBag.Message</p>
                        }

                        @foreach (var query in Context.Request.Query)
                        {
                            <input type="hidden" name="@query.Key" value="@query.Value"/>
                        }
                        <div class="form-group">
                            <label class="col-form-label">@await localize.LocalizeText("Login", "EmailAddress")</label>
                            <input class="form-control" type="email" required="" placeholder="user@gmail.com" asp-for="Email">
                        </div>
                        <div class="form-group mb-0">
                            <div class="text-end">
                                <button class="btn btn-primary btn-block w-100 mt-3" type="submit">@await localize.LocalizeText("Login", "RenewPassword")</button>
                            </div>
                        </div>
                        </form>
                </div>
            </div>
        </div>
    </div>
</div>

